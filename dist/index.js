var m=function e(t,n){function r(e){P=e.document,A=e.location,S=e.cancelAnimationFrame||e.clearTimeout,M=e.requestAnimationFrame||e.setTimeout}function o(){var e,t=[].slice.call(arguments),n=!(null==t[1]||L.call(t[1])!==R||"tag"in t[1]||"view"in t[1]||"subtree"in t[1]),r=n?t[1]:{},o="class"in r?"class":"className",a={tag:"div",attrs:{}},l=[];if(L.call(t[0])!=$)throw new Error("selector in m(selector, attrs, children) should be a string");for(;e=I.exec(t[0]);)if(""===e[1]&&e[2])a.tag=e[2];else if("#"===e[1])a.attrs.id=e[2];else if("."===e[1])l.push(e[2]);else if("["===e[3][0]){var i=G.exec(e[3]);a.attrs[i[1]]=i[3]||(i[2]?"":!0)}var u=t.slice(n?2:1);a.children=1===u.length&&L.call(u[0])===B?u[0]:u;for(var s in r)r.hasOwnProperty(s)&&(s===o&&null!=r[s]&&""!==r[s]?(l.push(r[s]),a.attrs[s]=""):a.attrs[s]=r[s]);return l.length>0&&(a.attrs[o]=l.join(" ")),a}function a(e,t,r,s,d,f,h,m,g,p,v){try{(null==d||null==d.toString())&&(d="")}catch(y){d=""}if("retain"===d.subtree)return f;var w=L.call(f),x=L.call(d);if(null==f||w!==x){if(null!=f)if(r&&r.nodes){var C=m-s,b=C+(x===B?d:f.nodes).length;u(r.nodes.slice(C,b),r.slice(C,b))}else f.nodes&&u(f.nodes,f);f=new d.constructor,f.tag&&(f={}),f.nodes=[]}if(x===B){for(var E=0,k=d.length;k>E;E++)L.call(d[E])===B&&(d=d.concat.apply([],d),E--,k=d.length);for(var N=[],j=f.length===d.length,T=0,O=1,A=2,M=3,S={},I=!1,E=0;E<f.length;E++)f[E]&&f[E].attrs&&null!=f[E].attrs.key&&(I=!0,S[f[E].attrs.key]={action:O,index:E});for(var G=0,E=0,k=d.length;k>E;E++)if(d[E]&&d[E].attrs&&null!=d[E].attrs.key){for(var J=0,k=d.length;k>J;J++)d[J]&&d[J].attrs&&null==d[J].attrs.key&&(d[J].attrs.key="__mithril__"+G++);break}if(I){var z=!1;if(d.length!=f.length)z=!0;else for(var H,K,E=0;H=f[E],K=d[E];E++)if(H.attrs&&K.attrs&&H.attrs.key!=K.attrs.key){z=!0;break}if(z){for(var E=0,k=d.length;k>E;E++)if(d[E]&&d[E].attrs&&null!=d[E].attrs.key){var _=d[E].attrs.key;S[_]=S[_]?{action:M,index:E,from:S[_].index,element:f.nodes[S[_].index]||P.createElement("div")}:{action:A,index:E}}var F=[];for(var V in S)F.push(S[V]);var X=F.sort(l),Q=new Array(f.length);Q.nodes=f.nodes.slice();for(var Y,E=0;Y=X[E];E++){if(Y.action===O&&(u(f[Y.index].nodes,f[Y.index]),Q.splice(Y.index,1)),Y.action===A){var W=P.createElement("div");W.key=d[Y.index].attrs.key,e.insertBefore(W,e.childNodes[Y.index]||null),Q.splice(Y.index,0,{attrs:{key:d[Y.index].attrs.key},nodes:[W]}),Q.nodes[Y.index]=W}Y.action===M&&(e.childNodes[Y.index]!==Y.element&&null!==Y.element&&e.insertBefore(Y.element,e.childNodes[Y.index]||null),Q[Y.index]=f[Y.from],Q.nodes[Y.index]=Y.element)}f=Q}}for(var E=0,Z=0,k=d.length;k>E;E++){var te=a(e,t,f,m,d[E],f[Z],h,m+T||T,g,p,v);te!==n&&(te.nodes.intact||(j=!1),T+=te.$trusted?(te.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:L.call(te)===B?te.length:1,f[Z++]=te)}if(!j){for(var E=0,k=d.length;k>E;E++)null!=f[E]&&N.push.apply(N,f[E].nodes);for(var ne,E=0;ne=f.nodes[E];E++)null!=ne.parentNode&&N.indexOf(ne)<0&&u([ne],[f[E]]);d.length<f.length&&(f.length=d.length),f.nodes=N}}else if(null!=d&&x===R){for(var oe=[],ae=[];d.view;){var le=d.view.$original||d.view,ie="diff"==o.redraw.strategy()&&f.views?f.views.indexOf(le):-1,ue=ie>-1?f.controllers[ie]:new(d.controller||q),_=d&&d.attrs&&d.attrs.key;if(d=0==re||f&&f.controllers&&f.controllers.indexOf(ue)>-1?d.view(ue):{tag:"placeholder"},"retain"===d.subtree)return f;_&&(d.attrs||(d.attrs={}),d.attrs.key=_),ue.onunload&&ee.push({controller:ue,handler:ue.onunload}),oe.push(le),ae.push(ue)}if(!d.tag&&ae.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");d.attrs||(d.attrs={}),f.attrs||(f.attrs={});var se=Object.keys(d.attrs),ce=se.length>("key"in d.attrs?1:0);if((d.tag!=f.tag||se.sort().join()!=Object.keys(f.attrs).sort().join()||d.attrs.id!=f.attrs.id||d.attrs.key!=f.attrs.key||"all"==o.redraw.strategy()&&(!f.configContext||f.configContext.retain!==!0)||"diff"==o.redraw.strategy()&&f.configContext&&f.configContext.retain===!1)&&(f.nodes.length&&u(f.nodes),f.configContext&&typeof f.configContext.onunload===D&&f.configContext.onunload(),f.controllers))for(var ue,E=0;ue=f.controllers[E];E++)typeof ue.onunload===D&&ue.onunload({preventDefault:q});if(L.call(d.tag)!=$)return;var ne,de=0===f.nodes.length;if(d.attrs.xmlns?p=d.attrs.xmlns:"svg"===d.tag?p="http://www.w3.org/2000/svg":"math"===d.tag&&(p="http://www.w3.org/1998/Math/MathML"),de){if(ne=d.attrs.is?p===n?P.createElement(d.tag,d.attrs.is):P.createElementNS(p,d.tag,d.attrs.is):p===n?P.createElement(d.tag):P.createElementNS(p,d.tag),f={tag:d.tag,attrs:ce?i(ne,d.tag,d.attrs,{},p):d.attrs,children:null!=d.children&&d.children.length>0?a(ne,d.tag,n,n,d.children,f.children,!0,0,d.attrs.contenteditable?ne:g,p,v):d.children,nodes:[ne]},ae.length){f.views=oe,f.controllers=ae;for(var ue,E=0;ue=ae[E];E++)if(ue.onunload&&ue.onunload.$old&&(ue.onunload=ue.onunload.$old),re&&ue.onunload){var fe=ue.onunload;ue.onunload=q,ue.onunload.$old=fe}}f.children&&!f.children.nodes&&(f.children.nodes=[]),"select"===d.tag&&"value"in d.attrs&&i(ne,d.tag,{value:d.attrs.value},{},p),e.insertBefore(ne,e.childNodes[m]||null)}else ne=f.nodes[0],ce&&i(ne,d.tag,d.attrs,f.attrs,p),f.children=a(ne,d.tag,n,n,d.children,f.children,!1,0,d.attrs.contenteditable?ne:g,p,v),f.nodes.intact=!0,ae.length&&(f.views=oe,f.controllers=ae),h===!0&&null!=ne&&e.insertBefore(ne,e.childNodes[m]||null);if(typeof d.attrs.config===D){var he=f.configContext=f.configContext||{},me=function(e,t){return function(){return e.attrs.config.apply(e,t)}};v.push(me(d,[ne,!de,he,f]))}}else if(typeof d!=D){var N;0===f.nodes.length?(d.$trusted?N=c(e,m,d):(N=[P.createTextNode(d)],e.nodeName.match(U)||e.insertBefore(N[0],e.childNodes[m]||null)),f="string number boolean".indexOf(typeof d)>-1?new d.constructor(d):d,f.nodes=N):f.valueOf()!==d.valueOf()||h===!0?(N=f.nodes,g&&g===P.activeElement||(d.$trusted?(u(N,f),N=c(e,m,d)):"textarea"===t?e.value=d:g?g.innerHTML=d:((1===N[0].nodeType||N.length>1)&&(u(f.nodes,f),N=[P.createTextNode(d)]),e.insertBefore(N[0],e.childNodes[m]||null),N[0].nodeValue=d)),f=new d.constructor(d),f.nodes=N):f.nodes.intact=!0}return f}function l(e,t){return e.action-t.action||e.index-t.index}function i(e,t,n,r,o){for(var a in n){var l=n[a],i=r[a];if(a in r&&i===l)"value"===a&&"input"===t&&e.value!=l&&(e.value=l);else{r[a]=l;try{if("config"===a||"key"==a)continue;if(typeof l===D&&0===a.indexOf("on"))e[a]=d(l,e);else if("style"===a&&null!=l&&L.call(l)===R){for(var u in l)(null==i||i[u]!==l[u])&&(e.style[u]=l[u]);for(var u in i)u in l||(e.style[u]="")}else null!=o?"href"===a?e.setAttributeNS("http://www.w3.org/1999/xlink","href",l):"className"===a?e.setAttribute("class",l):e.setAttribute(a,l):a in e&&"list"!==a&&"style"!==a&&"form"!==a&&"type"!==a&&"width"!==a&&"height"!==a?("input"!==t||e[a]!==l)&&(e[a]=l):e.setAttribute(a,l)}catch(s){if(s.message.indexOf("Invalid argument")<0)throw s}}}return r}function u(e,t){for(var n=e.length-1;n>-1;n--)if(e[n]&&e[n].parentNode){try{e[n].parentNode.removeChild(e[n])}catch(r){}t=[].concat(t),t[n]&&s(t[n])}0!=e.length&&(e.length=0)}function s(e){if(e.configContext&&typeof e.configContext.onunload===D&&(e.configContext.onunload(),e.configContext.onunload=null),e.controllers)for(var t,n=0;t=e.controllers[n];n++)typeof t.onunload===D&&t.onunload({preventDefault:q});if(e.children)if(L.call(e.children)===B)for(var r,n=0;r=e.children[n];n++)s(r);else e.children.tag&&s(e.children)}function c(e,t,n){var r=e.childNodes[t];if(r){var o=1!=r.nodeType,a=P.createElement("span");o?(e.insertBefore(a,r||null),a.insertAdjacentHTML("beforebegin",n),e.removeChild(a)):r.insertAdjacentHTML("beforebegin",n)}else e.insertAdjacentHTML("beforeend",n);for(var l=[];e.childNodes[t]!==r;)l.push(e.childNodes[t]),t++;return l}function d(e,t){return function(n){n=n||event,o.redraw.strategy("diff"),o.startComputation();try{return e.call(t,n)}finally{oe()}}}function f(e){var t=H.indexOf(e);return 0>t?H.push(e)-1:t}function h(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function m(e,t){var n=function(){return(e.controller||q).apply(this,t)||this},r=function(n){return arguments.length>1&&(t=t.concat([].slice.call(arguments,1))),e.view.apply(e,t?[n].concat(t):[n])};r.$original=e.view;var o={controller:n,view:r};return t[0]&&null!=t[0].key&&(o.attrs={key:t[0].key}),o}function g(){W&&(W(),W=null);for(var e,t=0;e=F[t];t++)if(X[t]){var n=V[t].controller&&V[t].controller.$$args?[X[t]].concat(V[t].controller.$$args):[X[t]];o.render(e,V[t].view?V[t].view(X[t],n):"")}Z&&(Z(),Z=null),Q=null,Y=new Date,o.redraw.strategy("diff")}function p(e){return e.slice(ie[o.route.mode].length)}function v(e,t,n){ae={};var r=n.indexOf("?");-1!==r&&(ae=C(n.substr(r+1,n.length)),n=n.substr(0,r));var a=Object.keys(t),l=a.indexOf(n);if(-1!==l)return o.mount(e,t[a[l]]),!0;for(var i in t){if(i===n)return o.mount(e,t[i]),!0;var u=new RegExp("^"+i.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(u.test(n))return n.replace(u,function(){for(var n=i.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),a=0,l=n.length;l>a;a++)ae[n[a].replace(/:|\./g,"")]=decodeURIComponent(r[a]);o.mount(e,t[i])}),!0}}function y(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var t=e.currentTarget||e.srcElement,n="pathname"===o.route.mode&&t.search?C(t.search.slice(1)):{};t&&"A"!=t.nodeName.toUpperCase();)t=t.parentNode;o.route(t[o.route.mode].slice(ie[o.route.mode].length),n)}}function w(){"hash"!=o.route.mode&&A.hash?A.hash=A.hash:t.scrollTo(0,0)}function x(e,t){var r={},o=[];for(var a in e){var l=t?t+"["+a+"]":a,i=e[a],u=L.call(i),s=null===i?encodeURIComponent(l):u===R?x(i,l):u===B?i.reduce(function(e,t){return r[l]||(r[l]={}),r[l][t]?e:(r[l][t]=!0,e.concat(encodeURIComponent(l)+"="+encodeURIComponent(t)))},[]).join("&"):encodeURIComponent(l)+"="+encodeURIComponent(i);i!==n&&o.push(s)}return o.join("&")}function C(e){"?"===e.charAt(0)&&(e=e.substring(1));for(var t=e.split("&"),n={},r=0,o=t.length;o>r;r++){var a=t[r].split("="),l=decodeURIComponent(a[0]),i=2==a.length?decodeURIComponent(a[1]):null;null!=n[l]?(L.call(n[l])!==B&&(n[l]=[n[l]]),n[l].push(i)):n[l]=i}return n}function b(e){var t=f(e);u(e.childNodes,K[t]),K[t]=n}function E(e,t){var n=o.prop(t);return e.then(n),n.then=function(n,r){return E(e.then(n,r),t)},n}function k(e,t){function n(e){d=e||s,h.map(function(e){d===u&&e.resolve(f)||e.reject(f)})}function r(e,t,n,r){if((null!=f&&L.call(f)===R||typeof f===D)&&typeof e===D)try{var a=0;e.call(f,function(e){a++||(f=e,t())},function(e){a++||(f=e,n())})}catch(l){o.deferred.onerror(l),f=l,n()}else r()}function a(){var s;try{s=f&&f.then}catch(h){return o.deferred.onerror(h),f=h,d=i,a()}r(s,function(){d=l,a()},function(){d=i,a()},function(){try{d===l&&typeof e===D?f=e(f):d===i&&"function"==typeof t&&(f=t(f),d=l)}catch(a){return o.deferred.onerror(a),f=a,n()}f===c?(f=TypeError(),n()):r(s,function(){n(u)},n,function(){n(d===l&&u)})})}var l=1,i=2,u=3,s=4,c=this,d=0,f=0,h=[];c.promise={},c.resolve=function(e){return d||(f=e,d=l,a()),this},c.reject=function(e){return d||(f=e,d=i,a()),this},c.promise.then=function(e,t){var n=new k(e,t);return d===u?n.resolve(f):d===s?n.reject(f):h.push(n),n.promise}}function N(e){return e}function j(e){if(!e.dataType||"jsonp"!==e.dataType.toLowerCase()){var r=new t.XMLHttpRequest;if(r.open(e.method,e.url,!0,e.user,e.password),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?e.onload({type:"load",target:r}):e.onerror({type:"error",target:r}))},e.serialize===JSON.stringify&&e.data&&"GET"!==e.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),typeof e.config===D){var o=e.config(r,e);null!=o&&(r=o)}var a="GET"!==e.method&&e.data?e.data:"";if(a&&L.call(a)!=$&&a.constructor!=t.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return r.send(a),r}var l="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=P.createElement("script");t[l]=function(r){i.parentNode.removeChild(i),e.onload({type:"load",target:{responseText:r}}),t[l]=n},i.onerror=function(){return i.parentNode.removeChild(i),e.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),t[l]=n,!1},i.onload=function(){return!1},i.src=e.url+(e.url.indexOf("?")>0?"&":"?")+(e.callbackKey?e.callbackKey:"callback")+"="+l+"&"+x(e.data||{}),P.body.appendChild(i)}function T(e,t,n){if("GET"===e.method&&"jsonp"!=e.dataType){var r=e.url.indexOf("?")<0?"?":"&",o=x(t);e.url=e.url+(o?r+o:"")}else e.data=n(t);return e}function O(e,t){var n=e.match(/:[a-z]\w+/gi);if(n&&t)for(var r=0;r<n.length;r++){var o=n[r].slice(1);e=e.replace(n[r],t[o]),delete t[o]}return e}var P,A,M,S,R="[object Object]",B="[object Array]",$="[object String]",D="function",L={}.toString,I=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,G=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,U=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/,q=function(){};r(t);var J,z={appendChild:function(e){J===n&&(J=P.createElement("html")),P.documentElement&&P.documentElement!==e?P.replaceChild(e,P.documentElement):P.appendChild(e),this.childNodes=P.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},H=[],K={};o.render=function(e,t,r){var o=[];if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var l=f(e),i=e===P,s=i||e===P.documentElement?z:e;i&&"html"!=t.tag&&(t={tag:"html",attrs:{},children:t}),K[l]===n&&u(s.childNodes),r===!0&&b(e),K[l]=a(s,null,n,n,t,K[l],!1,0,null,n,o);for(var c=0,d=o.length;d>c;c++)o[c]()},o.trust=function(e){return e=new String(e),e.$trusted=!0,e},o.prop=function(e){return(null!=e&&L.call(e)===R||typeof e===D)&&typeof e.then===D?E(e):h(e)};var _,F=[],V=[],X=[],Q=null,Y=0,W=null,Z=null,ee=[],te=16;o.component=function(e){return m(e,[].slice.call(arguments,1))},o.mount=o.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var n=F.indexOf(e);0>n&&(n=F.length);for(var r,a=!1,l={preventDefault:function(){a=!0,W=Z=null}},i=0;r=ee[i];i++)r.handler.call(r.controller,l),r.controller.onunload=null;if(a)for(var r,i=0;r=ee[i];i++)r.controller.onunload=r.handler;else ee=[];if(X[n]&&typeof X[n].onunload===D&&X[n].onunload(l),!a){o.redraw.strategy("all"),o.startComputation(),F[n]=e,arguments.length>2&&(t=subcomponent(t,[].slice.call(arguments,2)));var u=_=t=t||{controller:function(){}},s=t.controller||q,c=new s;return u===_&&(X[n]=c,V[n]=t),oe(),X[n]}};var ne=!1;o.redraw=function(e){ne||(ne=!0,Q&&e!==!0?(M===t.requestAnimationFrame||new Date-Y>te)&&(Q>0&&S(Q),Q=M(g,te)):(g(),Q=M(function(){Q=null},te)),ne=!1)},o.redraw.strategy=o.prop();var re=0;o.startComputation=function(){re++},o.endComputation=function(){re=Math.max(re-1,0),0===re&&o.redraw()};var oe=function(){"none"==o.redraw.strategy()?(re--,o.redraw.strategy("diff")):o.endComputation()};o.withAttr=function(e,t){return function(n){n=n||event;var r=n.currentTarget||this;t(e in r?r[e]:r.getAttribute(e))}};var ae,le,ie={pathname:"",hash:"#",search:"?"},ue=q,se=!1;return o.route=function(){if(0===arguments.length)return le;if(3===arguments.length&&L.call(arguments[1])===$){var e=arguments[0],n=arguments[1],r=arguments[2];ue=function(t){var a=le=p(t);if(!v(e,r,a)){if(se)throw new Error("Ensure the default route matches one of the routes defined in m.route");se=!0,o.route(n,!0),se=!1}};var a="hash"===o.route.mode?"onhashchange":"onpopstate";t[a]=function(){var e=A[o.route.mode];"pathname"===o.route.mode&&(e+=A.search),le!=p(e)&&ue(e)},W=w,t[a]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){var l=arguments[0],i=(arguments[1],arguments[2],arguments[3]);l.href=("pathname"!==o.route.mode?A.pathname:"")+ie[o.route.mode]+i.attrs.href,l.addEventListener?(l.removeEventListener("click",y),l.addEventListener("click",y)):(l.detachEvent("onclick",y),l.attachEvent("onclick",y))}else if(L.call(arguments[0])===$){var u=le;le=arguments[0];var s=arguments[1]||{},c=le.indexOf("?"),d=c>-1?C(le.slice(c+1)):{};for(var f in s)d[f]=s[f];var h=x(d),m=c>-1?le.slice(0,c):le;h&&(le=m+(-1===m.indexOf("?")?"?":"&")+h);var g=(3===arguments.length?arguments[2]:arguments[1])===!0||u===arguments[0];t.history.pushState?(W=w,Z=function(){t.history[g?"replaceState":"pushState"](null,P.title,ie[o.route.mode]+le)},ue(ie[o.route.mode]+le)):(A[o.route.mode]=le,ue(ie[o.route.mode]+le))}},o.route.param=function(e){if(!ae)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return ae[e]},o.route.mode="search",o.route.buildQueryString=x,o.route.parseQueryString=C,o.deferred=function(){var e=new k;return e.promise=E(e.promise),e},o.deferred.onerror=function(e){if("[object Error]"===L.call(e)&&!e.constructor.toString().match(/ Error/))throw e},o.sync=function(e){function t(e,t){return function(o){return l[e]=o,t||(n="reject"),0===--a&&(r.promise(l),r[n](l)),o}}var n="resolve",r=o.deferred(),a=e.length,l=new Array(a);if(e.length>0)for(var i=0;i<e.length;i++)e[i].then(t(i,!0),t(i,!1));else r.resolve([]);return r.promise},o.request=function(e){e.background!==!0&&o.startComputation();var t=new k,n=e.dataType&&"jsonp"===e.dataType.toLowerCase(),r=e.serialize=n?N:e.serialize||JSON.stringify,a=e.deserialize=n?N:e.deserialize||JSON.parse,l=n?function(e){return e.responseText}:e.extract||function(e){return 0===e.responseText.length&&a===JSON.parse?null:e.responseText};return e.method=(e.method||"GET").toUpperCase(),e.url=O(e.url,e.data),e=T(e,e.data,r),e.onload=e.onerror=function(n){try{n=n||event;var r=("load"===n.type?e.unwrapSuccess:e.unwrapError)||N,i=r(a(l(n.target,e)),n.target);if("load"===n.type)if(L.call(i)===B&&e.type)for(var u=0;u<i.length;u++)i[u]=new e.type(i[u]);else e.type&&(i=new e.type(i));t["load"===n.type?"resolve":"reject"](i)}catch(n){o.deferred.onerror(n),t.reject(n)}e.background!==!0&&o.endComputation()},j(e),t.promise=E(t.promise,e.initialValue),t.promise},o.deps=function(e){return r(t=e||t),t},o.deps.factory=e,o}("undefined"!=typeof window?window:{});"undefined"!=typeof module&&null!==module&&module.exports?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m});var Page1=Page1||{},Page2=Page2||{},MyComponent=MyComponent||{};m.route.mode="hash",m.route(document.getElementById("mainpage"),"/",{"/":MyComponent,"/page1":Page1,"/page2":Page2}),m.route("/");var MyComponent=MyComponent||{};MyComponent.controller=function(){return{}};var Page1=Page1||{};Page1.controller=function(){return this.json="json",{}};var json="json",Page2=Page2||{};Page2.controller=function(){return this.name="name",{}};var Page1=Page1||{};Page1.json="json";var Page2=Page2||{};Page2.name="name";var MyComponent=MyComponent||{};MyComponent.view=function(){return m("div",[m("button",{onclick:function(){m.route("/page1")}},"Page 1 - Get json from AJAX"),m("button",{onclick:function(){m.route("/page2")}},"Page2 - Get json element from AJAX")])};var Page1=Page1||{};Page1.view=function(){return m("div",[m("button",{onclick:function(){m.request({method:"GET",url:"http://localhost:3000/messages"}).then(function(e){Page1.json=JSON.stringify(e)})}},"Get json"),m("div",Page1.json),m("button",{onclick:function(){m.route("/")}},"Back to home")])};var Page2=Page2||{};Page2.view=function(){return m("div",[m("button",{onclick:function(){m.request({method:"GET",url:"http://localhost:3000/messages"}).then(function(e){Page2.name=e.name})}},"Get name"),m("div",Page2.name),m("button",{onclick:function(){m.route("/")}},"Back to home")])};